{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/Users/meludegiusti/Desktop/prog-native/src/screens/Profile.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { auth } from \"../firebase/config\";\n\nvar Profile = function (_Component) {\n  _inherits(Profile, _Component);\n\n  var _super = _createSuper(Profile);\n\n  function Profile(props) {\n    var _this;\n\n    _classCallCheck(this, Profile);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      posts: []\n    };\n    return _this;\n  }\n\n  _createClass(Profile, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.profilePost();\n    }\n  }, {\n    key: \"profilePost\",\n    value: function profilePost() {\n      var _this2 = this;\n\n      db.collection('posteos').where('user', '==', auth.currentUser.email).orderBy('createdAt', 'desc').onSnapshot(function (docs) {\n        var posteos = [];\n        docs.forEach(function (doc) {\n          posteos.push({\n            id: doc.id,\n            data: doc.data()\n          });\n        });\n\n        _this2.setState({\n          posts: posteos\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(View, {\n        style: styles.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: styles.welcome,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 17\n        }\n      }, \" Bienvenido: \", auth.currentUser.email), React.createElement(Text, {\n        style: styles.element,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 17\n        }\n      }, \" Usuario creado el: \", auth.currentUser.metadata.creationTime), React.createElement(Text, {\n        style: styles.element,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 17\n        }\n      }, \" \\xDAltimo login: \", auth.currentUser.metadata.lastSignInTime), React.createElement(Text, {\n        style: styles.text,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 17\n        }\n      }, \"Posts: \", this.state.posts), ' ', React.createElement(TouchableOpacity, {\n        style: styles.touchable,\n        onPress: function onPress() {\n          return _this3.props.logout();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 17\n        }\n      }, React.createElement(Text, {\n        style: styles.touchableText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 21\n        }\n      }, \"Logout\")), React.createElement(FlatList, {\n        data: this.state.posts,\n        keyExtractor: function keyExtractor(post) {\n          return post.id.toString();\n        },\n        renderItem: function renderItem(_ref) {\n          var item = _ref.item;\n          return React.createElement(Post, {\n            dataItem: item,\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 46\n            }\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 17\n        }\n      }));\n    }\n  }]);\n\n  return Profile;\n}(Component);\n\nvar styles = StyleSheet.create({\n  container: {\n    marginTop: 20,\n    marginHorizontal: 10\n  },\n  welcome: {\n    fontSize: 18,\n    marginTop: 20,\n    marginBottom: 30,\n    fontWeight: 'bold',\n    textAlign: 'center'\n  },\n  element: {\n    marginBottom: 10,\n    textAlign: 'center'\n  },\n  touchable: {\n    padding: 10,\n    backgroundColor: '#dc3545',\n    marginTop: 30,\n    borderRadius: 4,\n    width: '40%',\n    textAlign: 'center',\n    marginLeft: 100\n  },\n  touchableText: {\n    fontWeight: 'bold',\n    color: 'white',\n    textAlign: 'center'\n  }\n});\nexport default Profile;","map":{"version":3,"sources":["/Users/meludegiusti/Desktop/prog-native/src/screens/Profile.js"],"names":["React","Component","auth","Profile","props","state","posts","profilePost","db","collection","where","currentUser","email","orderBy","onSnapshot","docs","posteos","forEach","doc","push","id","data","setState","styles","container","welcome","element","metadata","creationTime","lastSignInTime","text","touchable","logout","touchableText","post","toString","item","StyleSheet","create","marginTop","marginHorizontal","fontSize","marginBottom","fontWeight","textAlign","padding","backgroundColor","borderRadius","width","marginLeft","color"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {View, Text, TouchableOpacity, StyleSheet, FlatList, ActivityIndicator, Image} from 'react-native';\nimport {auth} from '../firebase/config'\n\nclass Profile extends Component {\n    constructor(props){\n        super(props)\n        this.state = {\n            posts: [],\n        }\n    }\n    componentDidMount() {\n        this.profilePost();\n    }\n    profilePost() {\n        db.collection('posteos')\n        .where('user', '==', auth.currentUser.email)\n        .orderBy('createdAt', 'desc')\n        .onSnapshot(\n            (docs)=>{\n                let posteos= [];\n                docs.forEach((doc)=>{\n                    posteos.push({\n                        id: doc.id,\n                        data: doc.data(),\n                    });\n                });\n                this.setState({\n                    posts: posteos,\n                })\n            }\n        )\n    }\n    render(){\n        return(\n            <View style={styles.container}>\n                <Text style={styles.welcome}> Bienvenido: {auth.currentUser.email}</Text>\n                <Text style={styles.element}> Usuario creado el: {auth.currentUser.metadata.creationTime}</Text>\n                <Text style={styles.element}> Último login: {auth.currentUser.metadata.lastSignInTime}</Text>\n                <Text style={styles.text}>Posts: {this.state.posts}</Text>{' '}\n                <TouchableOpacity style={styles.touchable} onPress={()=> this.props.logout()}>\n                    <Text style={styles.touchableText}>Logout</Text>\n                </TouchableOpacity> \n                <FlatList\n                    data={this.state.posts}\n                    keyExtractor={(post)=> post.id.toString()}\n                    renderItem={({ item })=> <Post dataItem={item}></Post>}\n                />        \n            </View>       \n        )            \n    }\n\n}\n\nconst styles = StyleSheet.create({\n    container:{\n        marginTop: 20,\n        marginHorizontal:10\n    },\n    welcome:{\n        fontSize:18,\n        marginTop:20,\n        marginBottom:30,\n        fontWeight: 'bold',\n        textAlign: 'center'\n    },\n    element:{\n        marginBottom:10,\n        textAlign: 'center'\n    },\n    touchable:{\n        padding: 10,\n        backgroundColor: '#dc3545',\n        marginTop: 30,\n        borderRadius: 4,\n        width: '40%',\n        textAlign: 'center',\n        marginLeft: 100,\n        \n    },\n    touchableText:{\n        fontWeight: 'bold',\n        color:'white',\n        textAlign: 'center'\n    }\n    \n});\n\nexport default Profile;\n"]},"metadata":{},"sourceType":"module"}