{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/Users/meludegiusti/Desktop/prog-native/src/screens/Profile.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { auth, db } from \"../firebase/config\";\n\nvar Profile = function (_Component) {\n  _inherits(Profile, _Component);\n\n  var _super = _createSuper(Profile);\n\n  function Profile(props) {\n    var _this;\n\n    _classCallCheck(this, Profile);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      posts: []\n    };\n    return _this;\n  }\n\n  _createClass(Profile, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      db.collection('posts').where('user', '==', auth.currentUser.displayName).orderBy('createdAt', 'desc').onSnapshot(function (docs) {\n        var posts = [];\n        docs.forEach(function (doc) {\n          posts.push({\n            id: doc.id,\n            data: doc.data()\n          });\n        });\n\n        _this2.setState({\n          posts: posts\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(View, {\n        style: styles.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: styles.welcome,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 17\n        }\n      }, \" Bienvenido: \", auth.currentUser.displayName), React.createElement(Text, {\n        style: styles.element,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 17\n        }\n      }, \" E-mail: \", auth.currentUser.email), React.createElement(Text, {\n        style: styles.element,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 17\n        }\n      }, \" Usuario creado el: \", auth.currentUser.metadata.creationTime), React.createElement(Text, {\n        style: styles.element,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 17\n        }\n      }, \" \\xDAltimo login: \", auth.currentUser.metadata.lastSignInTime), React.createElement(Text, {\n        style: styles.text,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 17\n        }\n      }, \"Posts: \", this.state.posts.length), ' ', React.createElement(TouchableOpacity, {\n        style: styles.touchable,\n        onPress: function onPress() {\n          return _this3.props.logout();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 17\n        }\n      }, React.createElement(Text, {\n        style: styles.touchableText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 21\n        }\n      }, \"Logout\")), React.createElement(FlatList, {\n        data: this.state.posts,\n        keyExtractor: function keyExtractor(post) {\n          return post.id.toString();\n        },\n        renderItem: function renderItem(_ref) {\n          var item = _ref.item;\n          return React.createElement(Post, {\n            postData: item,\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 46\n            }\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 17\n        }\n      }));\n    }\n  }]);\n\n  return Profile;\n}(Component);\n\nvar styles = StyleSheet.create({\n  container: {\n    marginTop: 20,\n    marginHorizontal: 10\n  },\n  welcome: {\n    fontSize: 18,\n    marginTop: 20,\n    marginBottom: 30,\n    fontWeight: 'bold',\n    textAlign: 'center'\n  },\n  element: {\n    marginBottom: 10,\n    textAlign: 'flex-start'\n  },\n  touchable: {\n    backgroundColor: '#dc3545',\n    paddingHorizontal: 10,\n    paddingVertical: 6,\n    textAlign: 'center',\n    borderRadius: 4,\n    borderWidth: 1,\n    borderStyle: 'solid',\n    borderColor: '#dc3545'\n  },\n  touchableText: {\n    fontWeight: 'bold',\n    color: 'white',\n    textAlign: 'center'\n  }\n});\nexport default Profile;","map":{"version":3,"sources":["/Users/meludegiusti/Desktop/prog-native/src/screens/Profile.js"],"names":["React","Component","auth","db","Profile","props","state","posts","collection","where","currentUser","displayName","orderBy","onSnapshot","docs","forEach","doc","push","id","data","setState","styles","container","welcome","element","email","metadata","creationTime","lastSignInTime","text","length","touchable","logout","touchableText","post","toString","item","StyleSheet","create","marginTop","marginHorizontal","fontSize","marginBottom","fontWeight","textAlign","backgroundColor","paddingHorizontal","paddingVertical","borderRadius","borderWidth","borderStyle","borderColor","color"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {View, Text, TouchableOpacity, StyleSheet, FlatList, ActivityIndicator, Image} from 'react-native';\nimport {auth, db} from '../firebase/config'\n\nclass Profile extends Component {\n    constructor(props){\n        super(props)\n        this.state = {\n            posts: [],\n        }\n    }\n    componentDidMount(){\n        db.collection('posts')\n        .where('user', '==', auth.currentUser.displayName)\n        .orderBy('createdAt', 'desc')\n        .onSnapshot(\n            (docs)=>{\n                let posts= [];\n                docs.forEach((doc)=>{\n                    posts.push({\n                        id: doc.id,\n                        data: doc.data(),\n                    });\n                });\n                this.setState({\n                    posts: posts,\n                })\n            }\n        )\n    }\n  \n    render(){\n        return(\n            <View style={styles.container}>\n                <Text style={styles.welcome}> Bienvenido: {auth.currentUser.displayName}</Text>\n                <Text style={styles.element}> E-mail: {auth.currentUser.email}</Text>\n                <Text style={styles.element}> Usuario creado el: {auth.currentUser.metadata.creationTime}</Text>\n                <Text style={styles.element}> Último login: {auth.currentUser.metadata.lastSignInTime}</Text>\n                <Text style={styles.text}>Posts: {this.state.posts.length}</Text>{' '}\n                <TouchableOpacity style={styles.touchable} onPress={()=> this.props.logout()}>\n                    <Text style={styles.touchableText}>Logout</Text>\n                </TouchableOpacity>    \n                <FlatList\n                    data={this.state.posts}\n                    keyExtractor={(post)=> post.id.toString()}\n                    renderItem={({ item })=> <Post postData={item}></Post>}\n                />     \n            </View>       \n        )            \n    }\n\n}\n\nconst styles = StyleSheet.create({\n    container:{\n        marginTop: 20,\n        marginHorizontal:10\n    },\n    welcome:{\n        fontSize:18,\n        marginTop:20,\n        marginBottom:30,\n        fontWeight: 'bold',\n        textAlign: 'center'\n    },\n    element:{\n        marginBottom:10,\n        textAlign: 'flex-start'\n    },\n    touchable:{\n        backgroundColor:'#dc3545',\n        paddingHorizontal: 10,\n        paddingVertical: 6,\n        textAlign: 'center',\n        borderRadius:4, \n        borderWidth:1,\n        borderStyle: 'solid',\n        borderColor: '#dc3545'\n    },\n    touchableText:{\n        fontWeight: 'bold',\n        color:'white',\n        textAlign: 'center'\n    }\n    \n});\n\nexport default Profile;\n"]},"metadata":{},"sourceType":"module"}